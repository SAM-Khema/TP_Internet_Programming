{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'category',\n\n  data() {\n    return {\n      product_name: '',\n      image: '',\n      sub_id: '',\n      description: '',\n      price: '',\n      products: [],\n      _id: ''\n    };\n  },\n\n  methods: {\n    redirect(path) {\n      this.$router.push(path);\n    },\n\n    open_subcategory() {\n      document.getElementById('add').style.display = \"flex\";\n    },\n\n    close_subcategory() {\n      document.getElementById('add').style.display = \"none\";\n    },\n\n    open_edit_subcategory(id, product_name, product_image, description, price, sub_id) {\n      document.getElementById('edit').style.display = \"flex\";\n      this.product_name = product_name;\n      this.image = product_image;\n      this.description = description;\n      this.price = price;\n      this._id = id;\n      this.sub_id = sub_id;\n    },\n\n    close_edit_subcategory() {\n      document.getElementById('edit').style.display = \"none\";\n    },\n\n    add_new() {\n      const data = {\n        // _id: _id,\n        product_name: this.product_name,\n        product_image: this.image,\n        sub_category_id: this.sub_id,\n        description: this.description,\n        price: this.price\n      };\n      axios.post('http://localhost:3000/product/create_product', data).then(response => {\n        if (response.status === 200) {\n          alert('created successfully');\n        } else {\n          alert('create failed');\n        }\n\n        this.category_name = '';\n        this.close_subcategory();\n        this.remount();\n      });\n    },\n\n    edit_new() {\n      const data = {\n        _id: this._id,\n        product_name: this.product_name,\n        product_image: this.image,\n        sub_category_id: this.sub_id,\n        description: this.description,\n        price: this.price\n      };\n      axios.put('http://localhost:3000/product/update_product', data).then(response => {\n        if (response.status === 200) {\n          alert('edit successfully');\n        } else {\n          alert('edit failled');\n        }\n\n        this.new_subcategory_name = '';\n        this.close_edit_subcategory();\n        this.remount();\n      });\n    },\n\n    delete_subcategory(_id) {\n      const data = {\n        _id: _id\n      };\n      axios.delete('http://localhost:3000/product/delete_product', {\n        data: data\n      }).then(response => {\n        alert('delete successfully');\n        this.remount();\n      });\n    },\n\n    remount() {\n      axios.get('http://localhost:3000/product/get_products').then(response => {\n        this.products = response.data;\n      });\n    }\n\n  },\n\n  mounted() {\n    axios.get('http://localhost:3000/product/get_products').then(response => {\n      this.products = response.data;\n      console.log(response.data);\n    });\n  }\n\n};","map":{"version":3,"mappings":"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","names":["axios","name","data","product_name","image","sub_id","description","price","products","_id","methods","redirect","path","$router","push","open_subcategory","document","getElementById","style","display","close_subcategory","open_edit_subcategory","id","product_image","close_edit_subcategory","add_new","sub_category_id","post","then","response","status","alert","category_name","remount","edit_new","put","new_subcategory_name","delete_subcategory","delete","get","mounted","console","log"],"sourceRoot":"","sources":["D:\\Assignment document of I4\\Internet programing\\tp12\\TP12\\ex02-topone-app\\src\\views\\Product.vue"],"sourcesContent":["<template>\n  <header>\n    <p>Admin dashboard</p>\n    <p>លេខមួយ.com</p>\n  </header>\n  <main>\n    <div class=\"left-bar\">\n      <li @click=\"redirect('/category') \" >Category</li>\n      <li @click=\"redirect('/subcategory')\" >Subcategory</li>\n      <li @click=\"redirect('/product')\" >Product</li>\n    </div>\n    <div class=\"right-side\">\n      <div class=\"action\">\n        <p>Product</p>\n        <button @click=\"open_subcategory \" style=\"margin-top: 5px;border-radius: 7px;margin-right: 10px;background-color: burlywood;\">Add new</button>\n      </div>\n      <!-- HTML Code: Place this code in the document's body (between the 'body' tags) where the table should appear -->\n      <table class=\"GeneratedTable\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Description</th>\n            <th>Image url</th>\n            <th>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"product in products\" :key=\"product\">\n            <td>{{product.name}}</td>\n            <td>{{product.description}}</td>\n            <td>{{product.imageUrl}}</td>\n            <td>\n              <button @click=\"delete_subcategory(product._id)\">Delete</button>\n              <button @click=\"open_edit_subcategory(product._id, product.name, product.product_image, product.description, product.price, product.sub_category_id)\">Edit</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <!-- Codes by Quackit.com -->\n    </div>\n    <div class=\"adding\" id=\"add\">\n      <h2>Add new Product</h2>\n      <div class=\"input-field\">\n        <input v-model=\"product_name\" type=\"text\" placeholder=\"Product name\">\n        <input v-model=\"image\" type=\"text\" placeholder=\"Image\">\n        <input v-model=\"sub_id\" type=\"text\" placeholder=\"SubCategory ID\">\n        <input v-model=\"description\" type=\"text\" placeholder=\"Description\">\n        <input v-model=\"price\" type=\"text\" placeholder=\"Price\">\n      </div>\n      <div class=\"button-container\">\n        <button @click=\"close_subcategory\">Cancel</button>\n        <button @click=\"add_new\">Create</button>\n      </div>\n    </div>\n    <div class=\"adding\" id=\"edit\">\n      <h2>Add new Category</h2>\n      <div class=\"input-field\">\n        <input v-model=\"product_name\" type=\"text\" placeholder=\"Product name\">\n        <input v-model=\"image\" type=\"text\" placeholder=\"Image\">\n        <input v-model=\"sub_id\" type=\"text\" placeholder=\"SubCategory ID\">\n        <input v-model=\"description\" type=\"text\" placeholder=\"Description\">\n        <input v-model=\"price\" type=\"text\" placeholder=\"Price\">\n      </div>\n      <div class=\"button-container\">\n        <button @click=\"close_edit_subcategory\">Cancel</button>\n        <button @click=\"edit_new\">Create</button>\n      </div>\n    </div>\n  </main>\n</template>\n\n<style>\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\nli{\n  background-color:  rgb(199, 151, 61);\n}\nli:active{\n  background-color: rgb(214, 175, 103);\n}\n\nheader {\n  width: 100%;\n  height: 80px;\n  border-bottom: 2px solid black;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 32px;\n  position: fixed;\n  z-index: 999;\n  padding: 0 40px;\n}\n\nmain {\n  position: fixed;\n  top: 80px;\n  display: flex;\n}\n\nmain .left-bar {\n  width: 300px;\n  border-right: 2px solid black;\n  height: calc(100vh - 80px);\n}\n\nmain .left-bar li {\n  list-style: none;\n  border-bottom: 1px solid black;\n  padding: 10px;\n  text-align: center;\n}\n\nmain .right-side {\n  width: calc(100vw - 300px);\n  margin-bottom: 20px;\n}\n\nmain .right-side .action {\n  display: flex;\n  justify-content: space-between;\n}\n\nmain .right-side .action p {\n  font-size: 18px;\n}\n\nmain .right-side .action button {\n  width: 120px;\n  height: 30px;\n  border: 1px solid black;\n}\n\nmain .right-side .GeneratedTable{\n  width: 100%;\n  padding: 0 20px;\n}\n\nmain .right-side .GeneratedTable th{\n  text-align: start;\n  font-weight: 700;\n}\n\nmain .right-side .GeneratedTable button{\n  width: 90px;\n  border: none;\n  margin-right: 10px;\n  border-radius: 5px;\n  cursor: pointer;\n}\n\nmain .adding{\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%,-80%);\n  display: none;\n  flex-direction: column;\n  padding: 20px;\n  width: 400px;\n  box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\n  background: #fff;\n  text-align: center;\n  gap: 40px;\n  z-index: 999;\n}\n\nmain .adding .input-field{\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\nmain .adding .input-field input{\n  padding: 0 10px;\n}\n\nmain .adding .button-container{\n  display: flex;\n  gap: 10px;\n  justify-content: flex-end;\n}\n\n</style>\n\n\n<script>\nimport axios from 'axios'\n\n\nexport default {\n  name: 'category',\n  data(){\n    return {\n      product_name: '',\n      image: '',\n      sub_id: '',\n      description: '',\n      price: '',\n      products: [],\n      _id: ''\n    }\n  },\n  methods: {\n    redirect(path){\n      this.$router.push(path)\n    }\n    ,\n    open_subcategory (){\n      document.getElementById('add').style.display = \"flex\"\n    },\n    close_subcategory (){\n      document.getElementById('add').style.display = \"none\"\n    },\n    open_edit_subcategory (id, product_name, product_image, description, price, sub_id){\n      document.getElementById('edit').style.display = \"flex\"\n      this.product_name = product_name\n      this.image = product_image\n      this.description = description\n      this.price = price\n      this._id = id\n      this.sub_id = sub_id\n    },\n    close_edit_subcategory (){\n      document.getElementById('edit').style.display = \"none\"\n    },\n    add_new(){\n      const data = {\n          // _id: _id,\n          product_name: this.product_name,\n          product_image: this.image,\n          sub_category_id: this.sub_id,\n          description: this.description,\n          price: this.price\n        }\n      axios.post('http://localhost:3000/product/create_product', data)\n        .then((response) => {\n          if(response.status === 200){\n            alert('created successfully')\n          }else{\n            alert('create failed')\n          }\n          this.category_name = ''\n          this.close_subcategory()\n          this.remount()\n        })\n    },\n    edit_new(){\n      const data = {\n          _id: this._id,\n          product_name: this.product_name,\n          product_image: this.image,\n          sub_category_id: this.sub_id,\n          description: this.description,\n          price: this.price\n        }\n      axios.put('http://localhost:3000/product/update_product', data)\n      .then((response) => {\n        if (response.status === 200){\n          alert('edit successfully')\n        }else{\n          alert('edit failled')\n        }\n        this.new_subcategory_name = ''\n        this.close_edit_subcategory()\n        this.remount()\n      })\n    },\n    delete_subcategory(_id){\n      const data = {_id: _id}\n      axios.delete('http://localhost:3000/product/delete_product', {data: data})\n        .then((response) => {\n            alert('delete successfully')\n            this.remount()\n        })\n    },\n    remount(){\n      axios.get('http://localhost:3000/product/get_products')\n        .then((response) => {\n          this.products = response.data\n        })\n    }\n  },\n  mounted(){\n      axios.get('http://localhost:3000/product/get_products')\n        .then((response) => {\n          this.products = response.data\n          console.log(response.data)\n        })\n  }\n}\n</script>"]},"metadata":{},"sourceType":"module"}
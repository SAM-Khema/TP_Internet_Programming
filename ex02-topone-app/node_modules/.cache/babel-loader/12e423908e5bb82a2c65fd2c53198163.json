{"ast":null,"code":"import categoriesApi from '../libs/apis/category';\nimport productsApi from '../libs/apis/product';\nimport axios from \"axios\";\nexport default {\n  name: \"HomeView\",\n\n  data() {\n    return {\n      categories: [],\n      products: []\n    };\n  },\n\n  async mounted() {\n    this.categories = await categoriesApi.getCategoryItem();\n    this.products = await productsApi.getAllProduct(\"\", \"\"); // console.log(this.categories);\n\n    let response_products = await axios.get(\"http://localhost:3001/product/id\");\n    response_products.data.forEach(data => {\n      this.products.push(data);\n    });\n    let reponse_categories = await axios.get(\"http://localhost:3001/category/id\");\n    reponse_categories.data.forEach(data => {\n      this.categories.push(data);\n    });\n  },\n\n  methods: {\n    async onClick(categoryId, itemId) {\n      // this.products = await productsApi.getAllProduct(categoryId, itemId)\n      let response_products = await axios.get(\"http://localhost:3001/item/all\" + itemId);\n      this.products = [categoryId];\n      response_products.data[0].products.forEach(data => {\n        this.products.push(data);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AACA,OAAOA,aAAP,MAA0B,uBAA1B;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,eAAe;EACbC,IAAI,EAAE,UADO;;EAEbC,IAAI,GAAG;IACL,OAAO;MACLC,UAAU,EAAE,EADP;MAELC,QAAQ,EAAE;IAFL,CAAP;EAKD,CARY;;EASb,MAAMC,OAAN,GAAgB;IACd,KAAKF,UAAL,GAAkB,MAAML,aAAa,CAACQ,eAAd,EAAxB;IACA,KAAKF,QAAL,GAAgB,MAAML,WAAW,CAACQ,aAAZ,CAA0B,EAA1B,EAA8B,EAA9B,CAAtB,CAFc,CAGd;;IAEA,IAAIC,iBAAgB,GAAI,MAAMR,KAAK,CAACS,GAAN,CAC5B,kCAD4B,CAA9B;IAGAD,iBAAiB,CAACN,IAAlB,CAAuBQ,OAAvB,CAAgCR,IAAD,IAAU;MACvC,KAAKE,QAAL,CAAcO,IAAd,CAAmBT,IAAnB;IACD,CAFD;IAIA,IAAIU,kBAAiB,GAAI,MAAMZ,KAAK,CAACS,GAAN,CAC7B,mCAD6B,CAA/B;IAGAG,kBAAkB,CAACV,IAAnB,CAAwBQ,OAAxB,CAAiCR,IAAD,IAAU;MACxC,KAAKC,UAAL,CAAgBQ,IAAhB,CAAqBT,IAArB;IACD,CAFD;EAID,CA5BY;;EA8BbW,OAAO,EAAE;IACP,MAAMC,OAAN,CAAcC,UAAd,EAA0BC,MAA1B,EAAiC;MAC/B;MACA,IAAIR,iBAAgB,GAAI,MAAMR,KAAK,CAACS,GAAN,CAAU,mCAAmCO,MAA7C,CAA9B;MACA,KAAKZ,QAAL,GAAgB,CAACW,UAAD,CAAhB;MACAP,iBAAiB,CAACN,IAAlB,CAAuB,CAAvB,EAA0BE,QAA1B,CAAmCM,OAAnC,CAA4CR,IAAD,IAAU;QACnD,KAAKE,QAAL,CAAcO,IAAd,CAAmBT,IAAnB;MACD,CAFD;IAGF;;EARO;AA9BI,CAAf","names":["categoriesApi","productsApi","axios","name","data","categories","products","mounted","getCategoryItem","getAllProduct","response_products","get","forEach","push","reponse_categories","methods","onClick","categoryId","itemId"],"sourceRoot":"","sources":["D:\\Assignment document of I4\\Internet programing\\tp12\\TP12\\ex02-topone-app\\src\\views\\HomeView.vue"],"sourcesContent":["<script>\nimport categoriesApi from '../libs/apis/category'\nimport productsApi from '../libs/apis/product'\nimport axios from \"axios\";\nexport default {\n  name: \"HomeView\",\n  data() {\n    return {\n      categories: [],\n      products: []\n      \n    }\n  },\n  async mounted() {\n    this.categories = await categoriesApi.getCategoryItem();\n    this.products = await productsApi.getAllProduct(\"\", \"\");\n    // console.log(this.categories);\n    \n    let response_products = await axios.get(\n      \"http://localhost:3001/product/id\"\n    );\n    response_products.data.forEach((data) => {\n      this.products.push(data);\n    });\n\n    let reponse_categories = await axios.get(\n      \"http://localhost:3001/category/id\"\n    );\n    reponse_categories.data.forEach((data) => {\n      this.categories.push(data);\n    });\n\n  },\n\n  methods: {\n    async onClick(categoryId, itemId){\n      // this.products = await productsApi.getAllProduct(categoryId, itemId)\n      let response_products = await axios.get(\"http://localhost:3001/item/all\" + itemId)\n      this.products = [categoryId]\n      response_products.data[0].products.forEach((data) => {\n        this.products.push(data)\n      })\n    }\n    \n  }\n}\n</script>\n\n<template>\n  <div>\n    <div class=\"header\" style=\"background-color: burlywood;\">\n      <div >\n        លេខមួយ.com \n        </div>\n      </div>\n    <div class=\"content\">\n      <div class=\"sideBar\">\n        <ul>\n          <li class=\"category\" v-for=\"category in categories\" :key=\"category._id\">\n            <a href=\"#\" @Click=\"onClick(category._id,'')\">{{category.name}}</a>\n            <ul>\n              <li class=\"item\" v-for=\"item in category?.items\" :key=\"item._id\">\n                <a href=\"#\" @click=\"onClick(item.category, item._id)\">{{item.name}}</a>\n              </li>\n            </ul>\n          </li>\n        </ul>\n      </div>\n      <div class=\"listing\">\n        <div v-for=\"product in products\" :key=\"product._id\">\n          <div class=\"product\">\n            <div class=\"image\">\n              <img :src=\"product.imageUrl\" alt=\"imgLogo\" style=\"width: 150px; height: 200px;\">\n            </div>\n            <div class=\"cat\">\n              <div> {{product.title}}</div>\n            <div>{{product.price}}$</div>\n            </div>\n            <div class=\"price\">\n              <div class=\"shop\">shop</div>\n              <div class=\"value\">10</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<style scoped>\n\n.header{\n  height: 50px;\n  font-size: 30px;\n  border: 2px solid black;\n}\n.content{\n  display: flex;\n}\n.sideBar{\n  width: 20%;\n  height: 500px;\n  margin: 20px;\n  border: 2px solid black;\n}\n.listing{\n  margin: 20px;\n  display: grid;\n  height: 100%;\n  border: 2px solid black;\n  width: 75%;\n  grid-template-columns: 2fr 2fr 2fr;\n}\n.category{\n  text-align: left;\n  padding-bottom: 10px;\n}\n.item{\n  padding-top: 5px;\n}\na{\n  text-decoration: none;\n  color: black;\n}\nimg{\n  width: 100%;\n}\n\n.product{\n  padding: 10px;\n  margin: 10px;\n  border: 2px solid black;\n}\n.price{\n  display: flex;\n  justify-content: space-between;\n  margin-top: 10px;\n}\n.cat{\n  display: flex;\n  justify-content: space-between;\n  margin-top: 10px;\n}\n/* .shop{\n  width: 50%;\n  text-align: left;\n  padding-left: 20px;\n} */\n/* .value{\n  width: 50%;\n  text-align: right;\n  padding-right: 20px;\n} */\n</style>"]},"metadata":{},"sourceType":"module"}